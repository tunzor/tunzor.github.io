<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
  <head>
    

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>DevOps Tools 101 - Consul - tunzor</title>
  <meta name="description" content="DevOps Tools 101 is a series of posts outlining in easy to digest form, the tools available and in use by the DevOps community.
Today we&#39;ll be learning about Consul by Hashicorp.
The Official Description From Hashicorp&#39;s site
 Consul is a service mesh solution providing a full featured control plane with service discovery, configuration, and segmentation functionality.
 The Breakdown service mesh solution - a solution that allows individual services to discover and communicate quickly/securely/reliably with each other">
  <meta name="author" content="Anthony"/><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "tunzor",
    
    "url": "https:\/\/tunzor.github.io"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "https:\/\/tunzor.github.io"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "https:\/\/tunzor.github.io",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "https:\/\/tunzor.github.io\/posts\/devops-tools-101-consul\/",
          "name": "Dev ops tools 101 consul"
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : "Anthony"
  },
  "headline": "DevOps Tools 101 - Consul",
  "description" : "DevOps Tools 101 is a series of posts outlining in easy to digest form, the tools available and in use by the DevOps community.\nToday we\x27ll be learning about Consul by Hashicorp.\nThe Official Description From Hashicorp\x27s site\n Consul is a service mesh solution providing a full featured control plane with service discovery, configuration, and segmentation functionality.\n The Breakdown service mesh solution - a solution that allows individual services to discover and communicate quickly\/securely\/reliably with each other",
  "inLanguage" : "en",
  "wordCount":  625 ,
  "datePublished" : "2019-12-13T09:54:14",
  "dateModified" : "2019-12-13T09:54:14",
  "image" : "https:\/\/tunzor.github.io\/img\/me.jpg",
  "keywords" : [ "devops-tools-101, consul" ],
  "mainEntityOfPage" : "https:\/\/tunzor.github.io\/posts\/devops-tools-101-consul\/",
  "publisher" : {
    "@type": "Organization",
    "name" : "https:\/\/tunzor.github.io",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "https:\/\/tunzor.github.io\/img\/me.jpg",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>

<meta property="og:title" content="DevOps Tools 101 - Consul" />
<meta property="og:description" content="DevOps Tools 101 is a series of posts outlining in easy to digest form, the tools available and in use by the DevOps community.
Today we&#39;ll be learning about Consul by Hashicorp.
The Official Description From Hashicorp&#39;s site
 Consul is a service mesh solution providing a full featured control plane with service discovery, configuration, and segmentation functionality.
 The Breakdown service mesh solution - a solution that allows individual services to discover and communicate quickly/securely/reliably with each other">
<meta property="og:image" content="https://tunzor.github.io/img/me.jpg" />
<meta property="og:url" content="https://tunzor.github.io/posts/devops-tools-101-consul/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="tunzor" />

  <meta name="twitter:title" content="DevOps Tools 101 - Consul" />
  <meta name="twitter:description" content="DevOps Tools 101 is a series of posts outlining in easy to digest form, the tools available and in use by the DevOps community.
Today we&#39;ll be learning about Consul by Hashicorp.
The Official â€¦">
  <meta name="twitter:image" content="https://tunzor.github.io/img/me.jpg" />
  <meta name="twitter:card" content="summary" />
  <link href='https://tunzor.github.io/img/favicon.ico' rel='icon' type='image/x-icon'/>
  <meta name="generator" content="Hugo 0.61.0" />
  <link rel="alternate" href="https://tunzor.github.io/index.xml" type="application/rss+xml" title="tunzor"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><link rel="stylesheet" href="https://tunzor.github.io/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" /><link rel="stylesheet" href="https://tunzor.github.io/css/syntax.css" /><link rel="stylesheet" href="https://tunzor.github.io/css/codeblock.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">



  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://tunzor.github.io">tunzor</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Tags" href="/tags">Tags</a>
            </li>
          
        
          
            <li>
              <a title="about" href="/about">about</a>
            </li>
          
        

        

        
      </ul>
    </div>

    
      <div class="avatar-container">
        <div class="avatar-img-border">
          <a title="tunzor" href="https://tunzor.github.io">
            <img class="avatar-img" src="https://tunzor.github.io/img/me.jpg" alt="tunzor" />
          </a>
        </div>
      </div>
    

  </div>
</nav>




    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>


  
  
  






  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="posts-heading">
              
                <h1>DevOps Tools 101 - Consul</h1>
              
              
                <hr class="small">
              
              
              
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        <p><em>DevOps Tools 101</em> is a series of posts outlining in easy to digest form, the tools available and in use by the DevOps community.</p>
<p>Today we'll be learning about <strong>Consul</strong> by Hashicorp.</p>
<h2 id="the-official-description">The Official Description</h2>
<p>From <a href="https://www.consul.io/intro/index.html#what-is-consul-" target=_blank>Hashicorp's site</a></p>
<blockquote>
<p>Consul is a service mesh solution providing a full featured control plane with service discovery, configuration, and segmentation functionality.</p>
</blockquote>
<h2 id="the-breakdown">The Breakdown</h2>
<p><code>service mesh solution</code> - a solution that allows individual services to discover and communicate quickly/securely/reliably with each other</p>
<p><code>full featured control plane</code> - central control mechanism that can do a lot of stuff</p>
<p><code>service discovery</code> - services like an API can be discovered and made available to other services in the mesh</p>
<p><code>[service] configuration</code> - services can be configured from a centralized configuration store</p>
<p><code>[service] segmentation functionality</code> - services can be separated from each other and have communication rules applied to the traffic between them</p>
<h2 id="the-explanation">The Explanation</h2>
<p>Hashicorp's co-founder Armon Dadgar has a <a href="https://www.youtube.com/watch?v=mxeMdl0KvBI" target=_blank>really good video that explains Consul</a> but is also 15 minutes long (well worth a watch though). We're going to try and summarize and explain it a little quicker.</p>
<p>As we now know, Consul is a service mesh solution that offers a few key functionalities: service discovery, configuration, and segmentation.</p>
<p>In order for it to accomplish this, Consul runs an agent on each of the nodes/servers in a datacenter (on-prem or cloud-based). This agent is responsible for communicating with the services available and enabling the functionalities we looked at above.</p>
<h3 id="service-discovery">Service Discovery</h3>
<p>When an instance of a service starts, the agent registers it with the Consul registry and makes it available for traffic. If <code>service A</code> wants to communicate with <code>service B</code>, it queries the registry, which returns one instance of the service, and communicates directly with that instance.</p>
<p>The agent also maintains health checks for services and nodes so if that instance of <code>service B</code> should go down or fail a health check, the agent will report it to the registry and it will no longer be returned when a query is made for <code>service B</code>.</p>
<h3 id="service-configuration">Service Configuration</h3>
<p>Each service has some configurations that might be different from other services in the mesh but there might be some that are shared between them (something like a database port or whether the database is in maintenance mode).</p>
<p>Consul can make this available in a centralized key/value store and push it out to each of the services&rsquo; configurations. This saves us from having to make the same config change to each service and push it out manually ourselves.</p>
<h3 id="service-segmentation">Service Segmentation</h3>
<p>We have all of these services running and assuming that they have network connectivity, they can communicate without issue. However, just because they <em>can</em> talk to each other, doesn't mean that they <em>should</em> be able to talk to each other. Consul uses a component called <a href="https://www.consul.io/docs/connect/index.html" target=_blank>Connect</a> to address this problem.</p>
<p>Each of our services will have a proxy that runs alongside it (known as a <strong>sidecar</strong>) and it will handle all communication to and from that service. This proxy verifies TLS certificates for encrypted communication and enforces the policy for service communication maintained by Connect (these policies are called <a href="https://www.consul.io/docs/connect/intentions.html" target=_blank>intentions</a>).</p>
<p>If <code>service A</code> wants to communicate with <code>service B</code>, the proxy of <code>service B</code> will verify the certificate of <code>service A</code> and then check if there is an intention from Connect that allows this traffic.</p>
<h2 id="the-alternatives">The Alternatives</h2>
<p>Many people are working to solve the same problems which means that each problem will more than likely have a multitude of available solutions. Here are a few competing products to Consul.</p>
<p>Hashicorp also has a set of <a href="https://www.consul.io/intro/vs/index.html" target=_blank>comparison pages</a> that discuss the alternatives to and pros/cons of using Consul versus the other tools.</p>
<h3 id="a-hrefhttpstechnologyconversationscom20150908service-discovery-zookeeper-vs-etcd-vs-consul-target-blankservice-discovery-toolsa"><a href="https://technologyconversations.com/2015/09/08/service-discovery-zookeeper-vs-etcd-vs-consul/" target=_blank>Service Discovery tools</a></h3>
<ul>
<li><a href="https://zookeeper.apache.org/" target=_blank>Zookeeper</a></li>
<li><a href="https://etcd.io/" target=_blank>etcd</a></li>
</ul>
<h3 id="service-configuration-1">Service Configuration</h3>
<ul>
<li><a href="https://www.chef.io/" target=_blank>Chef</a></li>
<li><a href="https://puppet.com/" target=_blank>Puppet</a></li>
<li><a href="https://www.ansible.com/" target=_blank>Ansible</a></li>
</ul>
<h3 id="service-segmentation-1">Service Segmentation</h3>
<ul>
<li><a href="https://istio.io/" target=_blank>Istio</a></li>
</ul>


        
          <div class="blog-tags">
            
              <a href="https://tunzor.github.io/tags/devops-tools-101/">devops-tools-101</a>&nbsp;
            
              <a href="https://tunzor.github.io/tags/consul/">consul</a>&nbsp;
            
          </div>
        

        
            <hr/>
            <section id="social-share">
              <div class="list-inline footer-links">
                

<div class="share-box" aria-hidden="true">
    <ul class="share">
      
      <li>
        <a href="//twitter.com/share?url=https%3a%2f%2ftunzor.github.io%2fposts%2fdevops-tools-101-consul%2f&amp;text=DevOps%20Tools%20101%20-%20Consul&amp;via=" target="_blank" title="Share on Twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2ftunzor.github.io%2fposts%2fdevops-tools-101-consul%2f" target="_blank" title="Share on Facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//reddit.com/submit?url=https%3a%2f%2ftunzor.github.io%2fposts%2fdevops-tools-101-consul%2f&amp;title=DevOps%20Tools%20101%20-%20Consul" target="_blank" title="Share on Reddit">
          <i class="fab fa-reddit"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2ftunzor.github.io%2fposts%2fdevops-tools-101-consul%2f&amp;title=DevOps%20Tools%20101%20-%20Consul" target="_blank" title="Share on LinkedIn">
          <i class="fab fa-linkedin"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.stumbleupon.com/submit?url=https%3a%2f%2ftunzor.github.io%2fposts%2fdevops-tools-101-consul%2f&amp;title=DevOps%20Tools%20101%20-%20Consul" target="_blank" title="Share on StumbleUpon">
          <i class="fab fa-stumbleupon"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.pinterest.com/pin/create/button/?url=https%3a%2f%2ftunzor.github.io%2fposts%2fdevops-tools-101-consul%2f&amp;description=DevOps%20Tools%20101%20-%20Consul" target="_blank" title="Share on Pinterest">
          <i class="fab fa-pinterest"></i>
        </a>
      </li>
    </ul>
  </div>
  

              </div>
            </section>
        

        
      </article>

      
        <ul class="pager blog-pager">
          
            <li class="previous">
              <a href="https://tunzor.github.io/posts/k8s-two-tier-deploy/" data-toggle="tooltip" data-placement="top" title="Deploying a dockerized two-tier app on Kubernetes">&larr; Previous Post</a>
            </li>
          
          
            <li class="next">
              <a href="https://tunzor.github.io/posts/docker-list-images-by-size/" data-toggle="tooltip" data-placement="top" title="Quick Tip: List docker images sorted by size">Next Post &rarr;</a>
            </li>
          
        </ul>
      


      

    </div>
  </div>
</div>

      
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
                <a href="https://github.com/tunzor" title="GitHub">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://bitbucket.org/tunzor" title="Bitbucket">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-bitbucket fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://play.google.com/store/apps/developer?id=Tunzor" title="Google Play Apps">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-google-play fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://linkedin.com/in/anthony-russo-toronto" title="LinkedIn">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://www.youtube.com/toonie55" title="Youtube">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-youtube fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
        </ul>
        <p class="credits copyright text-muted">
          
            
              Anthony
            
          

          &nbsp;&bull;&nbsp;&copy;
          
            2019
          

          
            &nbsp;&bull;&nbsp;
            <a href="https://tunzor.github.io">tunzor</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="https://gohugo.io">Hugo v0.61.0</a> powered &nbsp;&bull;&nbsp; Theme <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a> adapted from <a href="https://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a>
          
        </p>
      </div>
    </div>
  </div>
</footer><script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.js" integrity="sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/contrib/auto-render.min.js" integrity="sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="https://tunzor.github.io/js/main.js"></script><script> renderMathInElement(document.body); </script><script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script><script src="https://tunzor.github.io/js/load-photoswipe.js"></script>









    
  </body>
</html>

